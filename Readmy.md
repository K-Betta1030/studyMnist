
# 手書き数字認識 Webアプリ

ブラウザ上で描いた手書きの数字を、リアルタイムでAI（CNNモデル）が認識するWebアプリケーションです。

![手書き数字認識のデモGIF]（※ここにデモのGIFやスクリーンショットを挿入してください）

---

## 概要

このプロジェクトは、機械学習モデル（Keras/TensorFlow）をPythonのWebフレームワーク（Flask）でAPI化し、HTML/JavaScriptのフロントエンドと連携させる、フルスタックのAIアプリケーションです。

ユーザーがブラウザのキャンバスに数字（0〜9）を描くと、その描画データがサーバーに送信され、学習済みの畳み込みニューラルネットワーク（CNN）モデルが画像を分析し、予測した数字を返します。

## 主な機能

* **描画キャンバス:** HTML5 Canvasを使用した自由な描画領域。
* **リアルタイム予測:** 「認識」ボタンクリックで、描画内容を即座にサーバーへ送信し予測。
* **クリア機能:** キャンバスをリセットします。
* **レスポンシブデザイン:** PC、タブレット、スマートフォンで表示と描画が可能です。

## 使用技術スタック

### 1. AIモデル (Model)
* **Python**
* **TensorFlow / Keras:** CNNモデルの構築、学習、保存 (`save.py`)。
* **NumPy:** 画像データの前処理。
* **MNISTデータセット:** モデルの学習データ。

### 2. バックエンド (Backend)
* **Flask:** WebサーバーおよびAPIエンドポイントの構築 (`back.py`)。
* **Pillow (PIL):** Base64でエンコードされた画像データのデコードと前処理。

### 3. フロントエンド (Frontend)
* **HTML5:** アプリケーションの骨格 (`index.html`)。
* **JavaScript (ES6+):** キャンバスの描画ロジック、サーバーへのAPIリクエスト (Fetch API)。
* **Bootstrap 5:** UIのスタイリングとレスポンシブ対応。

---

## セットアップと実行方法

### 1. 必要なライブラリのインストール

このプロジェクトを実行するには、Python 3.x が必要です。
まず、リポジトリ（またはファイル）をクローン/ダウンロードし、必要なPythonライブラリをインストールします。

```bash
# 仮想環境の作成を推奨
python -m venv venv
source venv/bin/activate  # Mac/Linux
# venv\Scripts\activate   # Windows

# 必要なライブラリをインストール
pip install tensorflow keras flask numpy pillow
````

*(推奨: `requirements.txt` を作成する場合)*

```bash
pip freeze > requirements.txt
# 次回からは pip install -r requirements.txt でインストールできます
```

### 2\. (オプション) モデルの再学習

`models/saved_model/my_model.h5` が既に含まれていますが、もし自分でモデルを再学習させたい場合は、以下のコマンドを実行します。

```bash
python save.py
```

（`save.py` があるディレクトリで実行してください）

### 3\. アプリケーションの起動

バックエンドのFlaskサーバーを起動します。

```bash
python back.py
```

（`back.py` があるディレクトリで実行してください）

サーバーが起動すると、ターミナルに `* Running on http://127.0.0.1:8000` のように表示されます。

### 4\. ブラウザでアクセス

Webブラウザを開き、アドレスバーに以下のURLを入力します。

```
[http://127.0.0.1:8000](http://127.0.0.1:8000)
```

または

```
http://localhost:8000
```

-----

## 推奨フォルダ構成

このアプリケーションが正しく動作するために、以下のフォルダ構成を推奨します。

```
handwriting-app/
│
├── static/              <-- 静的ファイル用フォルダ
│   ├── index.html       <-- (フロントエンド)
│   └── favicon.png      <-- (オプション: アイコン)
│
├── models/              <-- モデル用フォルダ
│   └── saved_model/
│       └── my_model.h5  <-- 学習済みモデル
│
├── back.py              <-- Flaskサーバー (バックエンド)
├── save.py              <-- モデル学習スクリプト
├── requirements.txt     <-- (推奨: 依存ライブラリ一覧)
└── README.md            <-- (このファイル)
```

**注意:** `back.py` は、`static` フォルダ内の `index.html` を配信し、`models/` フォルダ内の `my_model.h5` を読み込むように設定されています。

## 今後の改善点

  * **モデル精度の向上:** より複雑なモデルアーキテクチャ（ResNetなど）の試行、ハイパーパラメータの調整。
  * **描画体験の向上:** 描画中のリアルタイム予測（ボタンを押さなくても認識する）。
  * **デプロイ:** アプリケーションをクラウド（Heroku, Vercel, AWSなど）にデプロイする。
